# =====================================================================
# VAULT SECRETS CONFIGURATION TEMPLATE
# =====================================================================
# Complete secret management template for all Waqiti services
# This template defines all secrets that should be stored in Vault

# =====================================================================
# DATABASE SECRETS
# =====================================================================
vault:
  database:
    # Primary database credentials
    username: waqiti_user
    password: "${VAULT_DB_PASSWORD}"
    host: "${VAULT_DB_HOST}"
    port: "${VAULT_DB_PORT}"
    
    # Service-specific database credentials
    core-banking:
      username: core_banking_user
      password: "${VAULT_CORE_BANKING_DB_PASSWORD}"
      database: waqiti_core_banking
    
    payment:
      username: payment_user
      password: "${VAULT_PAYMENT_DB_PASSWORD}"
      database: waqiti_payments
    
    user:
      username: user_service_user
      password: "${VAULT_USER_DB_PASSWORD}"
      database: waqiti_users
    
    wallet:
      username: wallet_user
      password: "${VAULT_WALLET_DB_PASSWORD}"
      database: waqiti_wallets
    
    analytics:
      username: analytics_user
      password: "${VAULT_ANALYTICS_DB_PASSWORD}"
      database: waqiti_analytics
    
    audit:
      username: audit_user
      password: "${VAULT_AUDIT_DB_PASSWORD}"
      database: waqiti_audit

  # =====================================================================
  # REDIS SECRETS
  # =====================================================================
  redis:
    password: "${VAULT_REDIS_PASSWORD}"
    host: "${VAULT_REDIS_HOST}"
    port: "${VAULT_REDIS_PORT}"
    
    # Redis cluster configuration
    cluster:
      enabled: true
      nodes:
        - "${VAULT_REDIS_NODE1}"
        - "${VAULT_REDIS_NODE2}"
        - "${VAULT_REDIS_NODE3}"

  # =====================================================================
  # KEYCLOAK SECRETS
  # =====================================================================
  keycloak:
    # Admin credentials
    admin:
      username: "${VAULT_KEYCLOAK_ADMIN_USERNAME}"
      password: "${VAULT_KEYCLOAK_ADMIN_PASSWORD}"
    
    # Database credentials for Keycloak
    database:
      username: "${VAULT_KEYCLOAK_DB_USERNAME}"
      password: "${VAULT_KEYCLOAK_DB_PASSWORD}"
    
    # Service client secrets
    services:
      account-service:
        client-secret: "${VAULT_KEYCLOAK_ACCOUNT_SERVICE_SECRET}"
      payment-service:
        client-secret: "${VAULT_KEYCLOAK_PAYMENT_SERVICE_SECRET}"
      wallet-service:
        client-secret: "${VAULT_KEYCLOAK_WALLET_SERVICE_SECRET}"
      user-service:
        client-secret: "${VAULT_KEYCLOAK_USER_SERVICE_SECRET}"
      core-banking-service:
        client-secret: "${VAULT_KEYCLOAK_CORE_BANKING_SERVICE_SECRET}"
      transaction-service:
        client-secret: "${VAULT_KEYCLOAK_TRANSACTION_SERVICE_SECRET}"
      bank-integration-service:
        client-secret: "${VAULT_KEYCLOAK_BANK_INTEGRATION_SERVICE_SECRET}"
      billing-orchestrator-service:
        client-secret: "${VAULT_KEYCLOAK_BILLING_ORCHESTRATOR_SERVICE_SECRET}"
      saga-orchestration-service:
        client-secret: "${VAULT_KEYCLOAK_SAGA_ORCHESTRATION_SERVICE_SECRET}"
      dispute-resolution-service:
        client-secret: "${VAULT_KEYCLOAK_DISPUTE_RESOLUTION_SERVICE_SECRET}"
      purchase-protection-service:
        client-secret: "${VAULT_KEYCLOAK_PURCHASE_PROTECTION_SERVICE_SECRET}"
      voice-payment-service:
        client-secret: "${VAULT_KEYCLOAK_VOICE_PAYMENT_SERVICE_SECRET}"
      ar-payment-service:
        client-secret: "${VAULT_KEYCLOAK_AR_PAYMENT_SERVICE_SECRET}"
      business-service:
        client-secret: "${VAULT_KEYCLOAK_BUSINESS_SERVICE_SECRET}"
      gamification-service:
        client-secret: "${VAULT_KEYCLOAK_GAMIFICATION_SERVICE_SECRET}"
      real-time-analytics-service:
        client-secret: "${VAULT_KEYCLOAK_REAL_TIME_ANALYTICS_SERVICE_SECRET}"
      predictive-scaling-service:
        client-secret: "${VAULT_KEYCLOAK_PREDICTIVE_SCALING_SERVICE_SECRET}"
      nfc-testing-service:
        client-secret: "${VAULT_KEYCLOAK_NFC_TESTING_SERVICE_SECRET}"
      payment-commons:
        client-secret: "${VAULT_KEYCLOAK_PAYMENT_COMMONS_SECRET}"
      
      # Additional services
      crypto-service:
        client-secret: "${VAULT_KEYCLOAK_CRYPTO_SERVICE_SECRET}"
      investment-service:
        client-secret: "${VAULT_KEYCLOAK_INVESTMENT_SERVICE_SECRET}"
      international-transfer-service:
        client-secret: "${VAULT_KEYCLOAK_INTERNATIONAL_TRANSFER_SERVICE_SECRET}"
      kyc-service:
        client-secret: "${VAULT_KEYCLOAK_KYC_SERVICE_SECRET}"
      compliance-service:
        client-secret: "${VAULT_KEYCLOAK_COMPLIANCE_SERVICE_SECRET}"
      audit-service:
        client-secret: "${VAULT_KEYCLOAK_AUDIT_SERVICE_SECRET}"
      security-service:
        client-secret: "${VAULT_KEYCLOAK_SECURITY_SERVICE_SECRET}"
      notification-service:
        client-secret: "${VAULT_KEYCLOAK_NOTIFICATION_SERVICE_SECRET}"
      api-gateway:
        client-secret: "${VAULT_KEYCLOAK_API_GATEWAY_SECRET}"

  # =====================================================================
  # EXTERNAL SERVICE SECRETS
  # =====================================================================
  external:
    # Banking and Financial APIs
    plaid:
      client-id: "${VAULT_PLAID_CLIENT_ID}"
      secret: "${VAULT_PLAID_SECRET}"
      public-key: "${VAULT_PLAID_PUBLIC_KEY}"
      environment: "${VAULT_PLAID_ENVIRONMENT}"
    
    yodlee:
      client-id: "${VAULT_YODLEE_CLIENT_ID}"
      secret: "${VAULT_YODLEE_SECRET}"
      api-key: "${VAULT_YODLEE_API_KEY}"
    
    finicity:
      partner-id: "${VAULT_FINICITY_PARTNER_ID}"
      partner-secret: "${VAULT_FINICITY_PARTNER_SECRET}"
      app-key: "${VAULT_FINICITY_APP_KEY}"
    
    # Payment Processors
    stripe:
      secret-key: "${VAULT_STRIPE_SECRET_KEY}"
      publishable-key: "${VAULT_STRIPE_PUBLISHABLE_KEY}"
      webhook-secret: "${VAULT_STRIPE_WEBHOOK_SECRET}"
    
    adyen:
      api-key: "${VAULT_ADYEN_API_KEY}"
      merchant-account: "${VAULT_ADYEN_MERCHANT_ACCOUNT}"
      hmac-key: "${VAULT_ADYEN_HMAC_KEY}"
    
    # Card Networks
    visa:
      api-key: "${VAULT_VISA_API_KEY}"
      shared-secret: "${VAULT_VISA_SHARED_SECRET}"
      cert-id: "${VAULT_VISA_CERT_ID}"
    
    mastercard:
      api-key: "${VAULT_MASTERCARD_API_KEY}"
      consumer-key: "${VAULT_MASTERCARD_CONSUMER_KEY}"
      keystore-password: "${VAULT_MASTERCARD_KEYSTORE_PASSWORD}"
    
    # Currency and Exchange Rate APIs
    fixer-io:
      api-key: "${VAULT_FIXER_IO_API_KEY}"
    
    open-exchange-rates:
      api-key: "${VAULT_OPEN_EXCHANGE_RATES_API_KEY}"
    
    currency-layer:
      api-key: "${VAULT_CURRENCY_LAYER_API_KEY}"
    
    exchangerates-api:
      api-key: "${VAULT_EXCHANGERATES_API_KEY}"
    
    # Cryptocurrency APIs
    coinmarketcap:
      api-key: "${VAULT_CMC_API_KEY}"
    
    coingecko:
      api-key: "${VAULT_COINGECKO_API_KEY}"
    
    chainalysis:
      api-key: "${VAULT_CHAINALYSIS_API_KEY}"
    
    # Identity Verification
    onfido:
      api-key: "${VAULT_ONFIDO_API_KEY}"
      webhook-token: "${VAULT_ONFIDO_WEBHOOK_TOKEN}"
    
    jumio:
      api-key: "${VAULT_JUMIO_API_KEY}"
      api-secret: "${VAULT_JUMIO_API_SECRET}"
    
    comply-advantage:
      api-key: "${VAULT_COMPLY_ADVANTAGE_API_KEY}"
    
    # Geolocation and Maps
    maxmind:
      api-key: "${VAULT_MAXMIND_API_KEY}"
      license-key: "${VAULT_MAXMIND_LICENSE_KEY}"
    
    google-maps:
      api-key: "${VAULT_GOOGLE_MAPS_API_KEY}"
    
    # Communication Services
    twilio:
      account-sid: "${VAULT_TWILIO_ACCOUNT_SID}"
      auth-token: "${VAULT_TWILIO_AUTH_TOKEN}"
    
    sendgrid:
      api-key: "${VAULT_SENDGRID_API_KEY}"
    
    firebase:
      server-key: "${VAULT_FIREBASE_SERVER_KEY}"
      project-id: "${VAULT_FIREBASE_PROJECT_ID}"
    
    # Mobile Money APIs
    mpesa:
      consumer-key: "${VAULT_MPESA_CONSUMER_KEY}"
      consumer-secret: "${VAULT_MPESA_CONSUMER_SECRET}"
      passkey: "${VAULT_MPESA_PASSKEY}"
    
    airtel-money:
      client-id: "${VAULT_AIRTEL_MONEY_CLIENT_ID}"
      client-secret: "${VAULT_AIRTEL_MONEY_CLIENT_SECRET}"
    
    mtn-momo:
      primary-key: "${VAULT_MTN_MOMO_PRIMARY_KEY}"
      secondary-key: "${VAULT_MTN_MOMO_SECONDARY_KEY}"

  # =====================================================================
  # APPLICATION SECRETS
  # =====================================================================
  application:
    # JWT Secrets (for legacy support during migration)
    jwt:
      secret: "${VAULT_JWT_SECRET}"
      refresh-secret: "${VAULT_JWT_REFRESH_SECRET}"
    
    # Encryption keys
    encryption:
      master-key: "${VAULT_ENCRYPTION_MASTER_KEY}"
      field-encryption-key: "${VAULT_FIELD_ENCRYPTION_KEY}"
      pii-encryption-key: "${VAULT_PII_ENCRYPTION_KEY}"
    
    # Session management
    session:
      secret: "${VAULT_SESSION_SECRET}"
    
    # API Keys for internal services
    internal:
      service-auth-key: "${VAULT_INTERNAL_SERVICE_AUTH_KEY}"
      webhook-secret: "${VAULT_INTERNAL_WEBHOOK_SECRET}"

  # =====================================================================
  # KAFKA SECRETS
  # =====================================================================
  kafka:
    # Kafka cluster authentication
    username: "${VAULT_KAFKA_USERNAME}"
    password: "${VAULT_KAFKA_PASSWORD}"
    
    # SSL configuration
    ssl:
      keystore-password: "${VAULT_KAFKA_KEYSTORE_PASSWORD}"
      truststore-password: "${VAULT_KAFKA_TRUSTSTORE_PASSWORD}"
      key-password: "${VAULT_KAFKA_KEY_PASSWORD}"
    
    # SASL configuration
    sasl:
      jaas-config: "${VAULT_KAFKA_JAAS_CONFIG}"

  # =====================================================================
  # MONITORING AND OBSERVABILITY SECRETS
  # =====================================================================
  monitoring:
    # Prometheus
    prometheus:
      basic-auth-password: "${VAULT_PROMETHEUS_PASSWORD}"
    
    # Grafana
    grafana:
      admin-password: "${VAULT_GRAFANA_ADMIN_PASSWORD}"
      database-password: "${VAULT_GRAFANA_DB_PASSWORD}"
    
    # Alertmanager
    alertmanager:
      smtp-password: "${VAULT_ALERTMANAGER_SMTP_PASSWORD}"
      slack-webhook: "${VAULT_ALERTMANAGER_SLACK_WEBHOOK}"
    
    # ELK Stack
    elasticsearch:
      password: "${VAULT_ELASTICSEARCH_PASSWORD}"
    
    kibana:
      encryption-key: "${VAULT_KIBANA_ENCRYPTION_KEY}"

  # =====================================================================
  # BACKUP AND DISASTER RECOVERY SECRETS
  # =====================================================================
  backup:
    # S3/Object Storage
    s3:
      access-key: "${VAULT_S3_ACCESS_KEY}"
      secret-key: "${VAULT_S3_SECRET_KEY}"
      bucket: "${VAULT_S3_BUCKET}"
    
    # Backup encryption
    encryption:
      key: "${VAULT_BACKUP_ENCRYPTION_KEY}"
      passphrase: "${VAULT_BACKUP_PASSPHRASE}"

  # =====================================================================
  # DEVELOPMENT AND STAGING SECRETS
  # =====================================================================
  development:
    # Override for development environment
    database:
      password: "${VAULT_DEV_DB_PASSWORD}"
    
    # Test API keys (sandboxed)
    external:
      stripe:
        secret-key: "${VAULT_DEV_STRIPE_SECRET_KEY}"
      plaid:
        secret: "${VAULT_DEV_PLAID_SECRET}"

  staging:
    # Override for staging environment
    database:
      password: "${VAULT_STAGING_DB_PASSWORD}"
    
    # Staging API keys
    external:
      stripe:
        secret-key: "${VAULT_STAGING_STRIPE_SECRET_KEY}"
      plaid:
        secret: "${VAULT_STAGING_PLAID_SECRET}"