apiVersion: v1
kind: Service
metadata:
  name: discovery-service
  namespace: waqiti
  labels:
    app: discovery-service
    component: infrastructure
spec:
  type: ClusterIP
  clusterIP: None  # Headless service for stateful set
  selector:
    app: discovery-service
  ports:
  - name: http
    port: 8761
    targetPort: 8761
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: discovery-service-lb
  namespace: waqiti
  labels:
    app: discovery-service
    component: infrastructure
spec:
  type: ClusterIP
  selector:
    app: discovery-service
  ports:
  - name: http
    port: 8761
    targetPort: 8761
    protocol: TCP