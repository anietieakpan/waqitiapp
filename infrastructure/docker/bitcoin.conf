# Bitcoin Core Configuration for Waqiti Platform
# This configuration is optimized for Lightning Network integration

# Network (use testnet for development, mainnet for production)
testnet=1
# For production, comment above and uncomment below:
# mainnet=1

# Server settings
server=1
daemon=1
listen=1
rest=1

# RPC settings
rpcallowip=0.0.0.0/0
rpcbind=0.0.0.0:8332
rpcuser=waqiti
rpcpassword=CHANGE_THIS_PASSWORD

# Data directory
datadir=/home/bitcoin/.bitcoin

# Network settings
port=8333
maxconnections=50
addnode=seed.bitcoin.sipa.be
addnode=dnsseed.bluematt.me
addnode=dnsseed.bitcoin.dashjr.org
addnode=seed.bitcoinstats.com
addnode=seed.bitcoin.jonasschnelli.ch
addnode=seed.btc.petertodd.org

# Transaction indexing (REQUIRED for Lightning Network)
txindex=1

# ZMQ notifications (REQUIRED for Lightning Network)
zmqpubrawblock=tcp://0.0.0.0:28332
zmqpubrawtx=tcp://0.0.0.0:28333
zmqpubhashtx=tcp://0.0.0.0:28334
zmqpubhashblock=tcp://0.0.0.0:28335

# Mempool settings
maxmempool=300
mempoolexpiry=72

# Database cache (increase for better performance)
dbcache=1000

# Pruning (set to 0 for Lightning Network - no pruning)
prune=0

# Logging
debug=0
printtoconsole=1
logips=1
logtimestamps=1

# Performance optimizations
checkblocks=144
checklevel=3
maxorphantx=100
maxsigcachesize=32
par=4

# Fee estimation
blocksonly=0
acceptnonstdtxn=0

# Wallet settings (if using built-in wallet)
disablewallet=0
keypool=100
fallbackfee=0.0002

# Network timeouts
timeout=5000
rpcworkqueue=16

# For development/testing - speeds up blockchain sync
assumevalid=0000000000000000000b9d2ec5a352ecba0592946514a92f14319dc2b367fc72

# Security settings
upnp=0
natpmp=0
externalip=YOUR_EXTERNAL_IP

# Bandwidth optimization
blockreconstructionextratxn=100
maxreceivebuffer=5000
maxsendbuffer=1000

# Fee policy (adjust based on network conditions)
minrelaytxfee=0.00001
incrementalrelayfee=0.00001
dustrelayfee=0.00003000

# P2P protocol
banscore=100
bantime=86400

# Block assembly
blockminsize=1000
blockmaxsize=750000
blockmaxweight=3000000
blockprioritysize=0

# Mempool policies
limitancestorcount=25
limitancestorsize=101
limitdescendantcount=25
limitdescendantsize=101

# Compact blocks
blocksonly=0

# Development/Debug options (disable in production)
# mocktime=1234567890
# debug=net
# debug=rpc
# debug=http