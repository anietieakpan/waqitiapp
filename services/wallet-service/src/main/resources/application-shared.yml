# wallet-service Configuration
# Extends the shared Waqiti configuration template

# Import shared configuration
spring:
  config:
    import: classpath:application-waqiti-template.yml
  
  application:
    name: wallet-service
  
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:development}
    include: keycloak, shared

server:
  port: ${SERVER_PORT:8080}

# Service-specific database configuration
spring.datasource:
  url: ${DATABASE_URL:jdbc:postgresql://localhost:5432/waqiti_wallet_service}
  username: ${DATABASE_USERNAME:wallet_service_user}
  password: ${DATABASE_PASSWORD:password}

# Service-specific JPA configuration
spring.jpa:
  hibernate:
    ddl-auto: ${JPA_DDL_AUTO:validate}
  properties:
    hibernate:
      default_schema: wallet_service

# Flyway configuration
spring.flyway:
  enabled: true
  baseline-on-migrate: true
  locations: classpath:db/migration
  schemas: wallet_service
  table: flyway_schema_history

# Service-specific logging
logging:
  level:
    com.waqiti.wallet.service: ${LOG_LEVEL_SERVICE:INFO}
    com.waqiti.payment.client: ${LOG_LEVEL_CLIENT:INFO}

# Service-specific metrics
management:
  metrics:
    tags:
      service: wallet-service
      version: ${APP_VERSION:1.0.0}
